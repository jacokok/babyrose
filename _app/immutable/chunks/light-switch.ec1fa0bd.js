import{w}from"./index.a86d85e8.js";import{C as h}from"./scheduler.e2476052.js";const d={};function S(e){return e==="local"?localStorage:sessionStorage}function m(e,t,s){const o=(s==null?void 0:s.serializer)??JSON,i=(s==null?void 0:s.storage)??"local";function f(n,c){S(i).setItem(n,o.stringify(c))}if(!d[e]){const n=w(t,r=>{const a=S(i).getItem(e);a&&r(o.parse(a));{const g=l=>{l.key===e&&r(l.newValue?o.parse(l.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:c,set:u}=n;d[e]={set(r){f(e,r),u(r)},update(r){const a=r(h(n));f(e,a),u(a)},subscribe:c}}return d[e]}const P=m("modeOsPrefers",!1),M=m("modeUserPrefers",void 0),C=m("modeCurrent",!1);function E(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return P.set(e),e}function b(e){M.set(e)}function v(e){const t=document.documentElement.classList,s="dark";e===!0?t.remove(s):t.add(s),C.set(e)}function I(){const e=document.documentElement.classList,t=localStorage.getItem("modeUserPrefers")==="false",s=!("modeUserPrefers"in localStorage),o=window.matchMedia("(prefers-color-scheme: dark)").matches;t||s&&o?e.add("dark"):e.remove("dark")}export{v as a,b,E as g,C as m,I as s};
